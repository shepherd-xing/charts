{% extends 'base.html' %}

{% block contentblock %}
<!-- TradingView Widget BEGIN -->
    <div id="chartContainer">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <div class="tradingview-widget-copyright">

          </div>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js" async>
              {
              "width": "100%",
              "height": "100%",
              "defaultColumn": "overview",
              "defaultScreen": "most_capitalized",
              "market": "america",
              "showToolbar": true,
              "locale": "zh_CN",
              "largeChartUrl": "https://cryptocurrencycharts.herokuapp.com/chart"
            }
          </script>
    </div>
<!-- TradingView Widget END -->

    <script>
        function setSize(){
            var screen_h = innerHeight;
            var screen_w = innerWidth;
            var chart_container = document.getElementById('chartContainer');
            //var chart_container = document.getElementsByClassName('tradingview-widget-container')[0];
            chart_container.style.height = screen_h * 0.9 + 'px';
            chart_container.style.width = screen_w * 0.8 + 'px'
        }
        onload = setSize;
        onresize = setSize;
    </script>
{% endblock %}